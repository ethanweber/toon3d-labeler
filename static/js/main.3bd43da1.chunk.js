(this["webpackJsonpimage-labeling-tool"]=this["webpackJsonpimage-labeling-tool"]||[]).push([[0],{26:function(e,t,n){e.exports=n(43)},32:function(e,t,n){},41:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=n(15),r=n.n(l),s=(n(32),n(45)),i=n(46),c=n(47),m=n(4),u=n(16),d=n.n(u),g=n(10),p=n(48);var h=function(e){let{show:t,onHide:n}=e;return o.a.createElement(p.a,{show:t,onHide:n,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},o.a.createElement(p.a.Header,{closeButton:!0},o.a.createElement(p.a.Title,{id:"contained-modal-title-vcenter"},"Instructions")),o.a.createElement(p.a.Body,null,"Upload a ZIP folder of the processed data or simply a selection of images. Or, for no-upload use, host your processed data at some url. Then, specify the url in the path parameter.",o.a.createElement("br",null),o.a.createElement("br",null),'For example, "https://labeler.toon3d.studio/?path=http://localhost:8000/bobs-burgers-dining".',o.a.createElement("br",null),o.a.createElement("br",null),'Then, go through the images with the either the "previous" and "next" buttons or the left and right arrow key, clicking on points you believe the images share.',o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("b",null,"To ignore images"),", you can toggle them off. This will exclude them from our reconstruction pipeline.",o.a.createElement("br",null),o.a.createElement("br",null),"When labeling one of points, polygons, or lines, you might want to only show that specific type to avoid conflicts.",o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("b",null,"To label points"),", you can hide the polygons and click on the image to label points. If you have a point that is occluded in one image, when you are about to click to set that point, hold the 'n' key and then click. This will save the point in that image in a way which tells Toon3D that it is not observed. Make sure the numbers match up. You can hold 'd' to show the predicted depth image.",o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("b",null,"To delete the last point selected"),", right click."),o.a.createElement("li",null,o.a.createElement("b",null,"To replace a point"),', click an existing point, press "Reposition", then click somewhere else to replace it.'),o.a.createElement("li",null,o.a.createElement("b",null,"To renumber a point"),', click an existing point, set the number, and click "Renumber".')),o.a.createElement("br",null),"Have fun labeling!"),o.a.createElement(p.a.Footer,null,o.a.createElement(m.a,{onClick:n},"Close")))},f=n(22),y=n(23);const b=o.a.forwardRef((e,t)=>{let{onToggle:n,onReposition:l,onRenumber:r,style:s,validIndex:i,currentIndex:c,currentNumber:u,setCurrentNumber:d}=e;return Object(a.useEffect)(()=>{d(String(c+1))},[c,d]),o.a.createElement("div",{ref:t,className:"popup",style:s},o.a.createElement(m.a,{className:"m-2",onClick:n},i?"Ignore":"Keep"," ","Point"),o.a.createElement(m.a,{className:"m-2",onClick:l},"Reposition"),o.a.createElement(f.a,{className:"m-2"},o.a.createElement(y.a,{placeholder:"New number","aria-label":"New number",type:"number",value:u,onChange:e=>d(e.target.value),style:{width:"auto",maxWidth:"150px"}}),o.a.createElement(m.a,{onClick:()=>r(c,parseInt(u,10))},"Renumber")))});var E=function(e){let{currentImageIndex:t,image:n,validImage:l,polygons:r,hoveredPolygon:s,onHoverPolygon:i,clickedPolygons:c,onClickPolygon:m,showPolygons:u,points:d,validPoints:g,onSelectPoint:p,onDeletePoint:h,onIgnorePoint:f,keyHeld:y,hoverIndex:E,setHoverIndex:v,labelPointsMode:w,lineDrawingMode:k,linePoints:x,setLinePoints:P,lines:I,onAddLine:j,onDeleteLine:O,leftOrRight:C,myLeftOrRight:N,setLeftOrRight:L}=e;const[S,R]=Object(a.useState)({width:0,height:0}),[D,T]=Object(a.useState)(1),M=Object(a.useRef)(null),H=Object(a.useRef)(null),[U,A]=Object(a.useState)(!1),[F,W]=Object(a.useState)({x:0,y:0}),[B,_]=Object(a.useState)(0),[z,J]=Object(a.useState)(""),[Y,X]=Object(a.useState)({x:null,y:null}),[K,Z]=Object(a.useState)(null),[q,$]=Object(a.useState)(!1);Object(a.useEffect)(()=>{const e=e=>{H.current&&!H.current.contains(e.target)&&A(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const G=(e,t)=>{const n=M.current.getBoundingClientRect(),a=t.clientX-n.left,o=t.clientY-n.top;W({x:a,y:o}),A(!0),_(e),J(e+1)},Q={position:"absolute",left:"".concat(F.x,"px"),top:"".concat(F.y,"px")};Object(a.useEffect)(()=>{const e=new Image;e.onload=()=>{R({width:e.width,height:e.height})},e.src=n},[n]),Object(a.useEffect)(()=>{const e=()=>{if(S.width>0&&S.height>0){const e=M.current.width/S.width;T(e)}};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[S]);const V=(e,n)=>{const a=[...x];a.push({x:e,y:n}),P(a),2===a.length&&(j(t,{startPoint:a[0],endPoint:a[1]}),P([]))},ee=e=>{const n=d[e],a=[...x];a.push(n),P(a),2===a.length&&(j(t,{startPoint:a[0],endPoint:a[1]}),P([]))},te=e=>{e.preventDefault(),h(t,q)};let ne=0;for(let a=0;a<r.length;a+=1)r[a].length>ne&&(ne=r[a].length);return o.a.createElement("div",{onMouseMove:e=>{const t=M.current.getBoundingClientRect(),n=(e.clientX-t.left)/D,a=(e.clientY-t.top)/D;X({x:n,y:a}),L(N)},style:{position:"relative"}},o.a.createElement("img",{ref:M,src:n,alt:"Uploaded",onContextMenu:e=>{e.preventDefault();const n=e.target.getBoundingClientRect(),a=e.clientX-n.left,o=e.clientY-n.top;k?1===x.length?P([]):I.length>0&&O(t,I.length-1):h(t,{x:a,y:o})},onClick:e=>{const n=e.target.getBoundingClientRect(),a=(e.clientX-n.left)/D,o=(e.clientY-n.top)/D;if(k)V(a,o);else if(w){if(0===q||q)return d[q].x=a,d[q].y=o,g[q]="n"!==y,void $(!1);f(t,"n"!==y),p(t,{x:a,y:o})}},style:{maxWidth:"100%",opacity:l?1:.3,filter:l?"none":"grayscale(100%)"},className:"".concat(N===C?"hovered-image-".concat(C):"")}),U&&o.a.createElement(b,{ref:H,style:Q,validIndex:g[B],currentIndex:B,currentNumber:z,setCurrentNumber:J,onToggle:()=>{g[B]=!g[B],A(!1)},onReposition:()=>{$(B),A(!1)},onRenumber:(e,t)=>{console.log("Renumbering point",e+1,"to",t);const n=e,a=t-1;if(a<0||a>=d.length)return void console.log("Invalid index");let o=d[n];d[n]=d[a],d[a]=o,o=g[n],g[n]=g[a],g[a]=o,A(!1)}}),u&&o.a.createElement("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",style:{position:"absolute",top:0,left:0,pointerEvents:"all"}},r.map((e,n)=>e.map((e,a)=>{let l=0,r=!1;return!0===s[n][a]&&(l=.5,r=!0),!0===c[n][a]&&(l=1),o.a.createElement("polygon",{key:n*ne+a,points:e.map(e=>"".concat(e[0]*D,",").concat(e[1]*D)).join(" "),fill:"rgba(255, 255, 255, ".concat(l,")"),stroke:"blue",strokeWidth:r?4:0,pointerEvents:"all",onMouseEnter:()=>i(t,n,a),onMouseLeave:()=>i(t,n,a),onClick:()=>m(t,n,a)})}))),o.a.createElement("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",style:{position:"absolute",top:0,left:0,pointerEvents:"none"}},k&&1===x.length&&o.a.createElement("circle",{cx:x[0].x*D,cy:x[0].y*D,r:5,fill:"green"})),o.a.createElement("svg",{width:"100%",height:"100%",style:{position:"absolute",top:0,left:0,pointerEvents:"none"},xmlns:"http://www.w3.org/2000/svg"},k&&1===x.length&&null!==Y.x&&o.a.createElement("line",{x1:x[0].x*D,y1:x[0].y*D,x2:Y.x*D,y2:Y.y*D,stroke:"red",strokeWidth:2})),o.a.createElement("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",style:{position:"absolute",top:0,left:0,pointerEvents:"none"}},k&&I.map((e,n)=>o.a.createElement("line",{key:n,x1:e.startPoint.x*D,y1:e.startPoint.y*D,x2:e.endPoint.x*D,y2:e.endPoint.y*D,stroke:n===K?"blue":"red",strokeWidth:4,style:{cursor:"pointer",pointerEvents:"visibleStroke"},onMouseEnter:()=>Z(n),onMouseLeave:()=>Z(null),onContextMenu:e=>((e,n)=>{e.preventDefault(),O(t,n)})(e,n),onClick:e=>((e,t)=>{const{x:n}=Y,{y:a}=Y,o=I[t],l=Math.sqrt((o.startPoint.x-n)**2+(o.startPoint.y-a)**2),r=Math.sqrt((o.endPoint.x-n)**2+(o.endPoint.y-a)**2);l<5&&(V(o.startPoint.x,o.startPoint.y),console.log("Start point clicked")),r<5&&(V(o.endPoint.x,o.endPoint.y),console.log("End point clicked"))})(0,n)}))),o.a.createElement("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",style:{position:"absolute",top:0,left:0,pointerEvents:"none"}},w&&d.map((e,t)=>g[t]&&t!==q&&o.a.createElement("g",{key:t,style:{pointerEvents:"all"}},o.a.createElement("text",{x:e.x*D,y:e.y*D-10,textAnchor:"middle",fill:"black",pointerEvents:"none"},t+1),o.a.createElement("circle",{cx:e.x*D,cy:e.y*D,r:5,fill:g[t]?"#0FFF50":"white",stroke:"black",strokeWidth:E===t?4:2,onMouseEnter:()=>!k&&v(t),onMouseLeave:()=>!k&&v(-1),onClick:e=>{if(k)return e.preventDefault(),void ee(t);G(t,e)},onContextMenu:e=>{k?e.preventDefault():te(e)}})))),o.a.createElement("div",null,d&&d.length>0&&o.a.createElement("div",null,"Included Points:"),o.a.createElement("div",{className:"points-container"},d&&d.map((e,t)=>g[t]&&o.a.createElement("div",{key:t,className:"point-box",onClick:e=>{if(k)return e.preventDefault(),void ee(t);G(t,e)},onContextMenu:e=>{k?e.preventDefault():te(e)},onMouseEnter:()=>v(t),onMouseLeave:()=>v(-1)},t+1))),d&&d.length>0&&o.a.createElement("div",null,"Excluded Points:"),o.a.createElement("div",{className:"points-container"},d&&d.map((e,t)=>!g[t]&&o.a.createElement("div",{key:t,className:"point-box",onClick:e=>{if(k)return e.preventDefault(),void ee(t);G(t,e)},onContextMenu:e=>{k?e.preventDefault():te(e)},onMouseEnter:()=>v(t),onMouseLeave:()=>v(-1)},t+1)))))};var v=function(e){let{onUpload:t}=e;const[n,l]=Object(a.useState)(!1),r=e=>{const n=new FileReader;n.readAsText(e,"UTF-8"),n.onload=e=>{const n=e.target.result;t(n)}},s={backgroundColor:n?"#f8f9fa":"",borderColor:n?"#007bff":"",color:n?"#007bff":""};return o.a.createElement(m.a,{className:"m-2",onClick:()=>{const e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=e=>{e.target.files&&e.target.files.length>0&&r(e.target.files[0])},e.click()},onDragOver:e=>{e.preventDefault(),l(!0)},onDragEnter:e=>{e.preventDefault(),l(!0)},onDragLeave:e=>{e.preventDefault(),l(!1)},onDrop:e=>{e.preventDefault(),l(!1),e.dataTransfer.files&&e.dataTransfer.files.length>0&&(r(e.dataTransfer.files[0]),e.dataTransfer.clearData())},style:s},"Import")};n(41);function w(e){let{images:t,leftImageIndex:n,setLeftImageIndex:a,rightImageIndex:l,setRightImageIndex:r,validImages:c,leftOrRight:m}=e;return o.a.createElement(s.a,{className:"gallery-row"},t.map((e,t)=>o.a.createElement(i.a,{key:t,className:"gallery-item mb-3"},o.a.createElement("img",{src:e,alt:"Image ".concat(t+1),className:"gallery-item ".concat(t===n?"gallery-item-left-selected":""," ").concat(t===l?"gallery-item-right-selected":""),onClick:()=>{"left"===m?a(t):r(t)},style:{opacity:c[t]?1:.3,filter:c[t]?"none":"grayscale(100%)"}}))))}var k=function(){Object(a.useEffect)(()=>{g.a.send({hitType:"pageview",page:window.location.pathname})},[]);const[e,t]=Object(a.useState)(null),[n,l]=Object(a.useState)([]),[r,u]=Object(a.useState)([]),[p,f]=Object(a.useState)([]),[y,b]=Object(a.useState)([]),[k,x]=Object(a.useState)(),[P,I]=Object(a.useState)([]),[j,O]=Object(a.useState)(!0),[C,N]=Object(a.useState)(!1),[L,S]=Object(a.useState)(!1),[R,D]=Object(a.useState)([]),[T,M]=Object(a.useState)([]),[H,U]=Object(a.useState)([]),[A,F]=Object(a.useState)([]),[W,B]=Object(a.useState)(""),[_,z]=Object(a.useState)("right"),[J,Y]=Object(a.useState)(0),[X,K]=Object(a.useState)(0),[Z,q]=Object(a.useState)(-1),$=()=>{Y(e=>e+1>n.length-1?0:e+1)},G=()=>{Y(e=>e-1<0?n.length-1:e-1)},Q=()=>{K(e=>e+1>n.length-1?0:e+1)},V=()=>{K(e=>e-1<0?n.length-1:e-1)},ee=e=>{"ArrowLeft"===e.key&&("left"===_?G():V()),"ArrowRight"===e.key&&("left"===_?$():Q()),"n"===e.key&&B("n"),"r"===e.key&&B("r"),"d"===e.key&&B("d")},te=()=>{B("")},{path:ne}=(()=>{const e=window.location.search;return{path:new URLSearchParams(e).get("path")||""}})(),ae=e=>{t(e);const n=e.frames.map(e=>e.masks.map(e=>e.polygons));b(n),x(e.frames.map(e=>e.masks.map(e=>e.polygons.map(()=>!1)))),I(e.frames.map(e=>e.masks.map(e=>e.polygons.map(()=>!1))));const a=e.frames.map(()=>[]);U(a);let o=[];e.frames[0].lines?(o=e.frames.map(e=>e.lines.map(e=>({startPoint:{x:e[0][1],y:e[0][0]},endPoint:{x:e[1][1],y:e[1][0]}}))),M(o)):M(e.frames.map(()=>[])),F(e.frames.map(()=>[]))},oe=e=>{const t=JSON.parse(e);if(t.points){const e=t.points.map(()=>[]);for(let n=0;n<t.points.length;n+=1)for(let a=0;a<t.points[n].length;a+=1){const o=t.points[n][a],{x:l}=o,{y:r}=o;e[n].push({x:l,y:r})}U(e)}t.polygons&&I(t.polygons),t.validPoints&&F(t.validPoints),t.validImages&&u(t.validImages),t.lines&&M(t.lines)},le=()=>{(async()=>{try{const e=ne.endsWith("/")?ne.slice(0,-1):ne,t=(new Date).getTime(),n="".concat(e,"/points.json?_=").concat(t),a=await fetch(n,{cache:"no-cache"});if(!a.ok)throw new Error("Failed to fetch points data");const o=await a.json(),l=JSON.stringify(o);console.log(o),oe(l)}catch(e){console.error("Error fetching data:",e)}})()};Object(a.useEffect)(()=>{(async()=>{try{const e=ne.endsWith("/")?ne.slice(0,-1):ne,t="".concat(e,"/metadata.json"),n=await fetch(t);if(!n.ok)throw new Error("Failed to fetch metadata data");const a=await n.json();ae(a);const o=a.frames.map(e=>"".concat(ne,"/").concat(e.file_path));l(o),u(a.frames.map(()=>!0));const r=a.frames.map(e=>"".concat(ne,"/").concat(e.depth_image_file_path));f(r),ne&&le()}catch(e){console.error("Error fetching data:",e)}})()},[]),Object(a.useEffect)(()=>(window.addEventListener("keydown",ee),window.addEventListener("keyup",te),()=>{window.removeEventListener("keydown",ee),window.removeEventListener("keyup",te)}),[ee,te]);const re=(e,t)=>{const n=[...H];n[e].push(t),U(n)},se=e=>{const t=[...H];t[e].pop(),U(t);const n=[...A];n[e].pop(),F(n)},ie=(e,t)=>{const n=[...A];n[e].push(t),F(n)},ce=(e,t,n)=>{const a=[...P];a[e][t][n]=!a[e][t][n],I(a)},me=(e,t,n)=>{const a=[...k];a[e][t][n]=!a[e][t][n],x(a)},ue=(e,t)=>{const n=[...T];n[e].push(t),M(n)},de=(e,t)=>{const n=[...T];n[e].splice(t,1),M(n)},ge=e=>{const t=[...r];t[e]=!t[e],u(t)},[pe,he]=Object(a.useState)(!1);return o.a.createElement(c.a,{className:"p-3"},o.a.createElement("h1",{className:"header header-style"},o.a.createElement("a",{href:"/",style:{color:"inherit",textDecoration:"none"}},"Toon3D Labeler")),o.a.createElement("p",{className:"header"},"This is a simple tool to manually annotate correspondences on a set of images. Click to see examples from the Toon3D Dataset:"),o.a.createElement("div",{className:"d-flex flex-wrap justify-content-center mb-2"},["avatar-house","bobs-burgers","bojak-room","family-guy-dining","family-guy-house","krusty-krab","magic-school-bus","mystery-machine","planet-express","simpsons-house","smith-residence","spirited-away"].map(e=>o.a.createElement(m.a,{key:e,variant:"outline-secondary",size:"sm",className:"btn-xs m-1",onClick:()=>{window.location.href="/?path=https://ethanweber.me/toon3d-dataset/".concat(e)}},e))),o.a.createElement(m.a,{variant:"outline-primary",onClick:()=>{const e=document.createElement("input");e.type="file",e.accept="image/*",e.multiple=!0,e.onchange=async e=>{const t=Array.from(e.target.files).sort((e,t)=>e.name.localeCompare(t.name)),n=[];for(let a=0;a<t.length;a+=1){const e=URL.createObjectURL(t[a]);n.push(e)}l(n),u(n.map(()=>!0)),f(n),b(n.map(()=>[])),x(n.map(()=>[])),I(n.map(()=>[])),U(n.map(()=>[])),F(n.map(()=>[])),M(n.map(()=>[]))},e.click()},className:"me-2"},"Upload Images"),o.a.createElement(m.a,{variant:"outline-primary",onClick:()=>{const e=document.createElement("input");e.type="file",e.accept=".zip",e.onchange=async e=>{const t=e.target.files[0],n=new FileReader;n.readAsArrayBuffer(t),n.onload=async e=>{const t=e.target.result,n=new d.a,a=await n.loadAsync(t),o=[],r=[],s={},i=[],c=[];for(const[l,m]of Object.entries(a.files))if(!m.dir)if(l.endsWith("metadata.json")){const e=await m.async("string");Object.assign(s,JSON.parse(e))}else l.match(/depth-images\/.*\.(png|jpg|jpeg)$/)?c.push(l):l.match(/images\/.*\.(png|jpg|jpeg)$/)&&i.push(l);i.sort(),c.sort();for(let l=0;l<i.length;l+=1){const e=await a.file(i[l]).async("blob");o.push(URL.createObjectURL(e))}for(let l=0;l<c.length;l+=1){const e=await a.file(c[l]).async("blob");r.push(URL.createObjectURL(e))}0===Object.keys(s).length?alert("No metadata file found in the ZIP folder."):(ae(s),l(o),u(o.map(()=>!0)),f(r))}},e.click()},className:"me-2"},"Upload ZIP"),o.a.createElement(m.a,{variant:"outline-primary",onClick:()=>he(!0),className:"me-2"},"Instructions"),o.a.createElement(m.a,{variant:"outline-primary",href:"https://toon3d.studio",target:"_blank",className:"me-2"},"Project Page"),o.a.createElement(m.a,{variant:"outline-primary",href:"https://github.com/ethanweber/toon3d",target:"_blank",className:"me-2"},"Toon3D Code"),o.a.createElement(m.a,{variant:"outline-primary",href:"https://github.com/ethanweber/toon3d-labeler",target:"_blank"},"Labeler Code"),o.a.createElement("hr",null),o.a.createElement(h,{show:pe,onHide:()=>he(!1)}),o.a.createElement(w,{images:n,leftImageIndex:J,setLeftImageIndex:Y,rightImageIndex:X,setRightImageIndex:K,validImages:r,leftOrRight:_}),o.a.createElement("br",null),o.a.createElement(s.a,null,o.a.createElement(i.a,{md:12,className:"d-flex justify-content-center"},o.a.createElement(m.a,{className:"m-2",onClick:()=>O(!j)},j?"Hide":"Show"," ","Points"),o.a.createElement(m.a,{className:"m-2",onClick:()=>N(!C)},C?"Hide":"Show"," ","Polygons"),o.a.createElement(m.a,{className:"m-2",onClick:()=>S(!L)},L?"Hide":"Show"," ","Lines"),o.a.createElement(m.a,{className:"m-2",variant:"info",onClick:()=>(()=>{const e=H,t=A;let n=0;for(let a=0;a<e.length;a+=1)e[a].length>n&&(n=e[a].length);for(let a=0;a<e.length;a+=1){for(let o=e[a].length;o<n;o+=1)e[a].push({x:0,y:0}),t[a].push(!1)}U(e),F(t)})()},"Add Ignore Points"))),o.a.createElement(s.a,null,o.a.createElement(i.a,{md:6},o.a.createElement(m.a,{className:"m-2",onClick:()=>G()},"Previous"),o.a.createElement(m.a,{className:"m-2",onClick:()=>$()},"Next"),o.a.createElement(m.a,{className:"m-2",style:{opacity:r[J]?1:.3},onClick:()=>ge(J)},r[J]?"Ignore":"Keep"," ","Image"),(n.length>0||p.length>0)&&o.a.createElement(E,{currentImageIndex:J,image:"d"!==W&&n[J]||!p[J]?n[J]:p[J],validImage:r[J],polygons:y[J],hoveredPolygon:k[J],onHoverPolygon:me,clickedPolygons:P[J],onClickPolygon:ce,showPolygons:C,points:H[J],validPoints:A[J],onSelectPoint:re,onDeletePoint:se,onIgnorePoint:ie,keyHeld:W,hoverIndex:Z,setHoverIndex:q,labelPointsMode:j,lineDrawingMode:L,linePoints:R,setLinePoints:D,lines:T[J],onAddLine:ue,onDeleteLine:de,leftOrRight:_,myLeftOrRight:"left",setLeftOrRight:z})),o.a.createElement(i.a,{md:6},o.a.createElement(m.a,{className:"m-2",onClick:()=>V()},"Previous"),o.a.createElement(m.a,{className:"m-2",onClick:()=>Q()},"Next"),o.a.createElement(m.a,{className:"m-2",style:{opacity:r[X]?1:.3},onClick:()=>ge(X)},r[X]?"Ignore":"Keep"," ","Image"),(n.length>0||p.length>0)&&o.a.createElement(E,{currentImageIndex:X,image:"d"!==W&&n[X]||!p[X]?n[X]:p[X],validImage:r[X],polygons:y[X],hoveredPolygon:k[X],onHoverPolygon:me,clickedPolygons:P[X],onClickPolygon:ce,showPolygons:C,points:H[X],validPoints:A[X],onSelectPoint:re,onDeletePoint:se,onIgnorePoint:ie,keyHeld:W,hoverIndex:Z,setHoverIndex:q,labelPointsMode:j,lineDrawingMode:L,linePoints:R,setLinePoints:D,lines:T[X],onAddLine:ue,onDeleteLine:de,leftOrRight:_,myLeftOrRight:"right",setLeftOrRight:z}))),o.a.createElement(s.a,null,o.a.createElement(i.a,{md:12,className:"d-flex justify-content-center"},o.a.createElement(m.a,{className:"m-2",onClick:()=>{const e={points:H,validPoints:A,polygons:P,validImages:r,lines:T},t=JSON.stringify(e,null,2),n="data:text/json;charset=utf-8,".concat(encodeURIComponent(t)),a=document.createElement("a");a.setAttribute("href",n),a.setAttribute("download","points.json"),document.body.appendChild(a),a.click(),a.remove()}},"Export"),o.a.createElement(v,{onUpload:oe}),o.a.createElement(m.a,{className:"m-2",onClick:le},"Load Current"),o.a.createElement(m.a,{className:"m-2",onClick:()=>{U(n.map(()=>[])),F(n.map(()=>[])),I(n.map(()=>[])),M(n.map(()=>[])),u(n.map(()=>!0)),x(n.map(()=>[])),D([])}},"Clear Current"))))};var x=e=>{e&&e instanceof Function&&n.e(3).then(n.bind(null,49)).then(t=>{let{getCLS:n,getFID:a,getFCP:o,getLCP:l,getTTFB:r}=t;n(e),a(e),o(e),l(e),r(e)})};n(42);g.a.initialize("G-0VS06LHQT0");r.a.createRoot(document.getElementById("root")).render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(k,null))),document.body.classList.add("background-color"),x()}},[[26,1,2]]]);
//# sourceMappingURL=main.3bd43da1.chunk.js.map